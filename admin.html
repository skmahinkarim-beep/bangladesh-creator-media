<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BCM Admin Panel</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background: #f0f2f5; margin: 0; }
        .container { max-width: 800px; margin: 20px auto; background: white; padding: 25px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: #333; }
        h3 { color: #0056b3; border-bottom: 2px solid #eee; padding-bottom: 10px; margin-top: 30px; }
        input, textarea, button { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
        label { font-weight: bold; margin-top: 15px; display: block; color: #555; }
        .section { background: #f9f9f9; padding: 20px; margin-bottom: 25px; border-radius: 5px; border: 1px solid #e0e0e0; }
        .admin-stat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        
        button { background: #0056b3; color: white; cursor: pointer; font-weight: bold; font-size: 1rem; border: none; }
        button:hover { background: #004494; }
        .logout-btn { background: #d9534f; margin-top: 20px; }
        
        .upload-group { display: flex; gap: 10px; align-items: center; }
        .upload-btn { background: #28a745; width: auto; padding: 10px 20px; white-space: nowrap; cursor: pointer; }
        .upload-status { font-size: 0.9rem; color: #666; margin-left: 10px; font-weight: bold; }

        #admin-panel { display: none; }
        #login-section { max-width: 400px; margin: 50px auto; text-align: center; }
    </style>
</head>
<body>

    <div id="login-section" class="container">
        <h3>Admin Login</h3>
        <input type="email" id="email" placeholder="Admin Email">
        <input type="password" id="password" placeholder="Password">
        <button onclick="login()">Login</button>
    </div>

    <div id="admin-panel" class="container">
        <h1>Website Control Panel</h1>
        
        <div class="section">
            <h3>1. Top Full-Screen Banners</h3>
            <label>Banner 1:</label>
            <div class="upload-group">
                <input type="text" id="b1-img" placeholder="Image URL">
                <input type="file" id="file-b1" style="display:none" onchange="uploadToImgBB(this, 'b1-img', 'status-b1')">
                <button class="upload-btn" onclick="document.getElementById('file-b1').click()">ðŸ“· Upload</button>
                <span id="status-b1" class="upload-status"></span>
            </div>
            <input type="text" id="b1-link" placeholder="YouTube Link">

            <label>Banner 2:</label>
            <div class="upload-group">
                <input type="text" id="b2-img" placeholder="Image URL">
                <input type="file" id="file-b2" style="display:none" onchange="uploadToImgBB(this, 'b2-img', 'status-b2')">
                <button class="upload-btn" onclick="document.getElementById('file-b2').click()">ðŸ“· Upload</button>
                <span id="status-b2" class="upload-status"></span>
            </div>
            <input type="text" id="b2-link" placeholder="YouTube Link">

            <label>Banner 3:</label>
            <div class="upload-group">
                <input type="text" id="b3-img" placeholder="Image URL">
                <input type="file" id="file-b3" style="display:none" onchange="uploadToImgBB(this, 'b3-img', 'status-b3')">
                <button class="upload-btn" onclick="document.getElementById('file-b3').click()">ðŸ“· Upload</button>
                <span id="status-b3" class="upload-status"></span>
            </div>
            <input type="text" id="b3-link" placeholder="YouTube Link">
        </div>

        <div class="section">
            <h3>2. Video Grid (6 Items)</h3>
            <div id="video-inputs"></div>
        </div>

        <div class="section">
            <h3>3. Important Text Sections</h3>
            <label>Section Title:</label>
            <input type="text" id="txt-title" placeholder="Title">
            <label>Description:</label>
            <textarea id="txt-desc" rows="5" placeholder="Content..."></textarea>
        </div>

        <div class="section">
            <h3>4. Statistics</h3>
            <div class="admin-stat-grid">
                <div><label>Years Exp:</label><input type="text" id="s1-num"><input type="text" id="s1-lbl"></div>
                <div><label>Projects:</label><input type="text" id="s2-num"><input type="text" id="s2-lbl"></div>
                <div><label>Running:</label><input type="text" id="s3-num"><input type="text" id="s3-lbl"></div>
                <div><label>Satisfaction:</label><input type="text" id="s4-num"><input type="text" id="s4-lbl"></div>
            </div>
        </div>

        <button onclick="saveData()" style="padding: 15px; font-size: 1.2rem; background: #28a745;">SAVE ALL CHANGES</button>
        <button onclick="logout()" class="logout-btn">Logout</button>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

    <script>
        // --- âš ï¸ à¦†à¦ªà¦¨à¦¾à¦° ImgBB API Key à¦à¦–à¦¾à¦¨à§‡ à¦¬à¦¸à¦¾à¦¨ âš ï¸ ---
        const imgbbAPI = "e229c99665293297a72d7330777b73c4"; 

        // --- âš ï¸ à¦†à¦ªà¦¨à¦¾à¦° Firebase Config à¦à¦–à¦¾à¦¨à§‡ à¦¬à¦¸à¦¾à¦¨ âš ï¸ ---
        const firebaseConfig = {
            apiKey: "AIzaSyAEfAusfGr5VAhwbfpEjWBZijX0k3v3vAA",
            authDomain: "bangladesh-creator-media.firebaseapp.com",
            projectId: "bangladesh-creator-media",
            storageBucket: "bangladesh-creator-media.firebasestorage.app",
            messagingSenderId: "261777783760",
            appId: "1:261777783760:web:9dcacf82fdca071f4b97d5"
        };

        if (!firebase.apps.length) { firebase.initializeApp(firebaseConfig); }
        const auth = firebase.auth();
        const db = firebase.firestore();

        // ImgBB Upload
        function uploadToImgBB(input, targetId, statusId) {
            const file = input.files[0];
            const status = document.getElementById(statusId);
            if (!file) return;
            status.innerText = "Uploading...";
            const formData = new FormData();
            formData.append("image", file);
            fetch(`https://api.imgbb.com/1/upload?key=${imgbbAPI}`, { method: "POST", body: formData })
            .then(res => res.json())
            .then(data => {
                if(data.success) {
                    document.getElementById(targetId).value = data.data.url;
                    status.innerText = "Done! âœ…";
                    status.style.color = "green";
                } else { alert("Error!"); status.innerText = "Failed"; }
            });
        }

        // Generate Video Inputs
        const vidContainer = document.getElementById('video-inputs');
        for(let i=1; i<=6; i++) {
            vidContainer.innerHTML += `
                <div style="margin-top:10px; border-top:1px dashed #ccc; padding-top:5px;">
                    <strong>Video ${i}</strong>
                    <input type="text" id="v${i}-title" placeholder="Title">
                    <div class="upload-group">
                        <input type="text" id="v${i}-img" placeholder="Thumbnail URL">
                        <input type="file" id="file-v${i}" style="display:none" onchange="uploadToImgBB(this, 'v${i}-img', 'status-v${i}')">
                        <button class="upload-btn" onclick="document.getElementById('file-v${i}').click()">ðŸ“· Upload</button>
                        <span id="status-v${i}" class="upload-status"></span>
                    </div>
                    <input type="text" id="v${i}-link" placeholder="Video Link">
                </div>
            `;
        }

        auth.onAuthStateChanged(user => {
            if(user) {
                document.getElementById('login-section').style.display = 'none';
                document.getElementById('admin-panel').style.display = 'block';
                loadData();
            } else {
                document.getElementById('login-section').style.display = 'block';
                document.getElementById('admin-panel').style.display = 'none';
            }
        });

        function login() {
            const e = document.getElementById('email').value;
            const p = document.getElementById('password').value;
            auth.signInWithEmailAndPassword(e, p).catch(err => alert(err.message));
        }
        function logout() { auth.signOut(); }

        function saveData() {
            const data = {
                banners: [
                    { img: document.getElementById('b1-img').value, link: document.getElementById('b1-link').value },
                    { img: document.getElementById('b2-img').value, link: document.getElementById('b2-link').value },
                    { img: document.getElementById('b3-img').value, link: document.getElementById('b3-link').value }
