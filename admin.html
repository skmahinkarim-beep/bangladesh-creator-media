<!-- START OF FILE admin.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Admin Panel - BCM</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background: #f0f2f5; margin: 0; }
        .container { max-width: 900px; margin: 20px auto; background: white; padding: 25px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: #333; }
        h3 { color: #0056b3; border-bottom: 2px solid #eee; padding-bottom: 10px; margin-top: 30px; margin-bottom: 10px; }
        .size-guide { color: #d9534f; font-size: 0.85rem; font-weight: bold; margin-top: -5px; margin-bottom: 10px; display: block; }
        input, textarea, button, select { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
        label { font-weight: bold; margin-top: 15px; display: block; color: #555; }
        .section { background: #f9f9f9; padding: 20px; margin-bottom: 25px; border-radius: 5px; border: 1px solid #e0e0e0; }
        .admin-stat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        button { background: #0056b3; color: white; cursor: pointer; font-weight: bold; font-size: 1rem; border: none; transition: 0.3s; }
        button:hover { background: #004494; }
        .logout-btn { background: #d9534f; margin-top: 20px; }
        .logout-btn:hover { background: #c9302c; }
        #news-select { background: #fff; font-size: 1.1rem; color: #0056b3; border: 2px solid #0056b3; font-weight: bold; }
        #admin-panel { display: none; }
        #login-section { max-width: 400px; margin: 50px auto; text-align: center; }
        .ad-banner-container { text-align: center; margin: 20px auto; padding: 10px; max-width: 100%; overflow: hidden; }

        /* NAVIGATION BUTTONS */
        .admin-nav { display: flex; justify-content: center; gap: 20px; margin-bottom: 30px; border-bottom: 2px solid #eee; padding-bottom: 20px; }
        .nav-link { padding: 12px 30px; border-radius: 30px; font-size: 1.1rem; text-decoration: none; font-weight: bold; display: inline-block; }
        .nav-active { background: #0056b3; color: white; box-shadow: 0 4px 10px rgba(0,86,179,0.3); }
        .nav-inactive { background: #e0e0e0; color: #333; transition: 0.3s; }
        .nav-inactive:hover { background: #ccc; }

        /* POPUP AD */
        .popup-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); z-index: 9999; display: none; justify-content: center; align-items: center; backdrop-filter: blur(4px); }
        .popup-content { background: white; padding: 20px; border-radius: 12px; width: 350px; text-align: center; position: relative; box-shadow: 0 10px 40px rgba(0,0,0,0.5); animation: popIn 0.4s ease; display: flex; flex-direction: column; align-items: center; justify-content: center; border: 4px solid #f0f2f5; }
        @keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .popup-close { position: absolute; top: -15px; right: -15px; background: red; color: white; border: 2px solid white; width: 35px; height: 35px; border-radius: 50%; font-size: 20px; line-height: 32px; cursor: pointer; font-weight: bold; box-shadow: 0 2px 5px rgba(0,0,0,0.2); z-index: 1000; display: flex; justify-content: center; align-items: center; padding: 0; }
        .popup-close:hover { background: darkred; transform: scale(1.1); }
    </style>
</head>
<body>

    <div id="login-section" class="container">
        <h3>Main Admin Login</h3>
        <input type="email" id="email" placeholder="Admin Email">
        <input type="password" id="password" placeholder="Password">
        <button onclick="login()">Login</button>
    </div>

    <div id="admin-panel" class="container">
        <h1>Website Control Panel</h1>

        <!-- NAVIGATION -->
        <div class="admin-nav">
            <a href="admin.html" class="nav-link nav-active">Main Admin</a>
            <a href="store-admin.html" class="nav-link nav-inactive">Store Admin ðŸ›’</a>
        </div>

        <!-- ADSTERRA BANNER -->
        <div class="ad-banner-container">
            <script>
                atOptions = { 'key' : '913c56baf27591442617260739df7bf0', 'format' : 'iframe', 'height' : 90, 'width' : 728, 'params' : {} };
            </script>
            <script src="https://www.highperformanceformat.com/913c56baf27591442617260739df7bf0/invoke.js"></script>
        </div>
        
        <!-- CONTENT SECTIONS -->
        <div class="section" style="border-left: 5px solid #ff0000; background: #fff5f5;">
            <h3 style="margin-top: 0; color: #d32f2f;">ðŸ“¢ Breaking News Ticker</h3>
            <label>Scrolling Text:</label>
            <input type="text" id="breaking-news" placeholder="Write breaking news here...">
        </div>

        <div class="section">
            <h3>2. Top Full-Screen Banners</h3>
            <label>Banner 1:</label> <input type="text" id="b1-img" placeholder="Image Link"><input type="text" id="b1-link" placeholder="YouTube Link">
            <label>Banner 2:</label> <input type="text" id="b2-img" placeholder="Image Link"><input type="text" id="b2-link" placeholder="YouTube Link">
            <label>Banner 3:</label> <input type="text" id="b3-img" placeholder="Image Link"><input type="text" id="b3-link" placeholder="YouTube Link">
        </div>

        <div class="section">
            <h3>3. Video Grid (6 Items)</h3>
            <div id="video-inputs"></div>
        </div>

        <div class="section">
            <h3>4. Important Text Sections</h3>
            <div style="background: #fff; padding: 15px; border: 1px solid #ddd; margin-bottom: 10px;">
                <label>Text Box 1:</label><input type="text" id="txt-title" placeholder="Title"><textarea id="txt-desc" rows="3" placeholder="Content"></textarea>
            </div>
            <div style="background: #fff; padding: 15px; border: 1px solid #ddd; margin-bottom: 10px;">
                <label>Text Box 2:</label><input type="text" id="txt-title-2" placeholder="Title"><textarea id="txt-desc-2" rows="3" placeholder="Content"></textarea>
            </div>
            <div style="background: #fff; padding: 15px; border: 1px solid #ddd;">
                <label>Text Box 3:</label><input type="text" id="txt-title-3" placeholder="Title"><textarea id="txt-desc-3" rows="3" placeholder="Content"></textarea>
            </div>
        </div>

        <div class="section">
            <h3>5. Statistics</h3>
            <div class="admin-stat-grid">
                <div><label>Years Exp:</label><input type="text" id="s1-num"><input type="text" id="s1-lbl"></div>
                <div><label>Projects:</label><input type="text" id="s2-num"><input type="text" id="s2-lbl"></div>
                <div><label>Running:</label><input type="text" id="s3-num"><input type="text" id="s3-lbl"></div>
                <div><label>Satisfaction:</label><input type="text" id="s4-num"><input type="text" id="s4-lbl"></div>
            </div>
        </div>

        <div class="section" style="border-left: 5px solid #28a745; background: #f0fff4;">
            <h3 style="margin-top: 0; color: #28a745;">ðŸ”” Bottom Left Notice Popup</h3>
            <textarea id="bottom-notice-text" rows="3" placeholder="Write notice here..."></textarea>
        </div>

        <!-- ADSTERRA NATIVE BANNER -->
        <div style="margin: 20px auto; text-align: center;">
            <script async="async" data-cfasync="false" src="https://pl28530993.effectivegatecpm.com/04804b2bd758cb3163372944a85a8bb2/invoke.js"></script>
            <div id="container-04804b2bd758cb3163372944a85a8bb2"></div>
        </div>

        <div class="section" style="border-left: 5px solid #0056b3; background: #eef7ff;">
            <h3 style="margin-top: 0; color: #0056b3;">ðŸ“° Blog & News Management</h3>
            <label>Select News Slot:</label>
            <select id="news-select" onchange="loadSpecificNews()"></select>
            <div style="background: white; padding: 20px; border-radius: 8px; margin-top: 15px;">
                <label>News Title:</label><input type="text" id="news-title">
                <label>Image Link:</label><input type="text" id="news-img">
                <label>Date/Author:</label><input type="text" id="news-date">
                <label>Full Content:</label><textarea id="news-desc" rows="6"></textarea>
            </div>
        </div>

        <button onclick="saveData()" style="padding: 15px; font-size: 1.2rem; background: #28a745;">SAVE MAIN SITE CHANGES</button>
        <button onclick="logout()" class="logout-btn">Logout</button>
    </div>

    <!-- POPUP AD -->
    <div class="popup-overlay" id="popup-ad">
        <div class="popup-content">
            <button class="popup-close" onclick="closePopup()">âœ–</button>
            <h3 style="margin-bottom:10px;">Special Offer!</h3>
            <div>
                <script>
                    atOptions = { 'key' : '08d5faeff146431c8017d7cfc9ab82b6', 'format' : 'iframe', 'height' : 250, 'width' : 300, 'params' : {} };
                </script>
                <script src="https://www.highperformanceformat.com/08d5faeff146431c8017d7cfc9ab82b6/invoke.js"></script>
            </div>
        </div>
    </div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

    <script>
        const firebaseConfig = { apiKey: "AIzaSyAEfAusfGr5VAhwbfpEjWBZijX0k3v3vAA", authDomain: "bangladesh-creator-media.firebaseapp.com", projectId: "bangladesh-creator-media", storageBucket: "bangladesh-creator-media.firebasestorage.app", messagingSenderId: "261777783760", appId: "1:261777783760:web:9dcacf82fdca071f4b97d5" };
        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth(); const db = firebase.firestore();
        let allData = {};

        const vidContainer = document.getElementById('video-inputs');
        for(let i=1; i<=6; i++) { vidContainer.innerHTML += `<div style="margin-top:10px; border-top:1px dashed #ccc;"><strong>Video ${i}</strong><input type="text" id="v${i}-title" placeholder="Title"><input type="text" id="v${i}-img" placeholder="Img Link"><input type="text" id="v${i}-link" placeholder="YT Link"></div>`; }

        const newsSelect = document.getElementById('news-select');
        for(let i=1; i<=30; i++) { let option = document.createElement("option"); option.value = i - 1; option.text = "News Slot " + i; newsSelect.appendChild(option); }

        auth.onAuthStateChanged(user => {
            if(user) { document.getElementById('login-section').style.display = 'none'; document.getElementById('admin-panel').style.display = 'block'; loadData(); } 
            else { document.getElementById('login-section').style.display = 'block'; document.getElementById('admin-panel').style.display = 'none'; }
        });

        function login() { auth.signInWithEmailAndPassword(document.getElementById('email').value, document.getElementById('password').value).then(()=>alert("Success!")).catch(e=>alert(e.message)); }
        function logout() { auth.signOut(); }

        function loadData() {
            db.collection('siteContent').doc('homePage').get().then(doc => {
                if(doc.exists) {
                    allData = doc.data();
                    if(allData.breakingNews) document.getElementById('breaking-news').value = allData.breakingNews;
                    if(allData.bottomNotice) document.getElementById('bottom-notice-text').value = allData.bottomNotice;
                    if(allData.banners) allData.banners.forEach((b, i) => { if(i<3) { document.getElementById(`b${i+1}-img`).value = b.img||''; document.getElementById(`b${i+1}-link`).value = b.link||''; }});
                    if(allData.videos) allData.videos.forEach((v, index) => { let i=index+1; if(i<=6) { document.getElementById(`v${i}-title`).value = v.title||''; document.getElementById(`v${i}-img`).value = v.img||''; document.getElementById(`v${i}-link`).value = v.link||''; }});
                    if(allData.textSection) { document.getElementById('txt-title').value = allData.textSection.title||''; document.getElementById('txt-desc').value = allData.textSection.desc||''; }
                    if(allData.textSection2) { document.getElementById('txt-title-2').value = allData.textSection2.title||''; document.getElementById('txt-desc-2').value = allData.textSection2.desc||''; }
                    if(allData.textSection3) { document.getElementById('txt-title-3').value = allData.textSection3.title||''; document.getElementById('txt-desc-3').value = allData.textSection3.desc||''; }
                    if(allData.stats) { 
                        document.getElementById('s1-num').value = allData.stats.s1?.num||''; document.getElementById('s1-lbl').value = allData.stats.s1?.lbl||'';
                        document.getElementById('s2-num').value = allData.stats.s2?.num||''; document.getElementById('s2-lbl').value = allData.stats.s2?.lbl||'';
                        document.getElementById('s3-num').value = allData.stats.s3?.num||''; document.getElementById('s3-lbl').value = allData.stats.s3?.lbl||'';
                        document.getElementById('s4-num').value = allData.stats.s4?.num||''; document.getElementById('s4-lbl').value = allData.stats.s4?.lbl||'';
                    }
                    loadSpecificNews();
                }
            });
        }

        function loadSpecificNews() {
            const index = document.getElementById('news-select').value;
            if(!allData.news) allData.news = [];
            const n = allData.news[index] || {};
            document.getElementById('news-title').value = n.title||''; document.getElementById('news-img').value = n.img||'';
            document.getElementById('news-date').value = n.date||''; document.getElementById('news-desc').value = n.desc||'';
        }

        function saveData() {
            const index = document.getElementById('news-select').value;
            if(!allData.news) allData.news = [];
            allData.news[index] = { title: document.getElementById('news-title').value, img: document.getElementById('news-img').value, date: document.getElementById('news-date').value, desc: document.getElementById('news-desc').value };

            let dataToSave = {
                breakingNews: document.getElementById('breaking-news').value, bottomNotice: document.getElementById('bottom-notice-text').value,
                banners: [{img:document.getElementById('b1-img').value,link:document.getElementById('b1-link').value},{img:document.getElementById('b2-img').value,link:document.getElementById('b2-link').value},{img:document.getElementById('b3-img').value,link:document.getElementById('b3-link').value}],
                videos: [], textSection: {title:document.getElementById('txt-title').value,desc:document.getElementById('txt-desc').value},
                textSection2: {title:document.getElementById('txt-title-2').value,desc:document.getElementById('txt-desc-2').value}, textSection3: {title:document.getElementById('txt-title-3').value,desc:document.getElementById('txt-desc-3').value},
                stats: { s1:{num:document.getElementById('s1-num').value,lbl:document.getElementById('s1-lbl').value}, s2:{num:document.getElementById('s2-num').value,lbl:document.getElementById('s2-lbl').value}, s3:{num:document.getElementById('s3-num').value,lbl:document.getElementById('s3-lbl').value}, s4:{num:document.getElementById('s4-num').value,lbl:document.getElementById('s4-lbl').value} },
                news: allData.news
            };
            for(let i=1; i<=6; i++) dataToSave.videos.push({title:document.getElementById(`v${i}-title`).value,img:document.getElementById(`v${i}-img`).value,link:document.getElementById(`v${i}-link`).value});

            db.collection('siteContent').doc('homePage').set(dataToSave).then(()=>alert('Updated Successfully!')).catch(e=>alert(e.message));
        }

        window.addEventListener('load', function() { setTimeout(function() { if (!sessionStorage.getItem('popupClosedAdmin')) document.getElementById('popup-ad').style.display = 'flex'; }, 2000); });
        function closePopup() { document.getElementById('popup-ad').style.display = 'none'; sessionStorage.setItem('popupClosedAdmin', 'true'); }
    </script>
    <script src="https://pl28528078.effectivegatecpm.com/ac/d5/c2/acd5c23b9f6f77e8f9f6ebae6a44ab89.js"></script>
    <script src="https://pl28528081.effectivegatecpm.com/ef/bf/ed/efbfedfbecfa4341c8c49c5e2eb5597a.js"></script>
    <script> document.body.addEventListener('click', function() { if(!sessionStorage.getItem('smartLinkShownAdmin')) { window.open('https://www.effectivegatecpm.com/tvh8g9tv2?key=d1007f785c6fd53c1310c7811f50889e', '_blank'); sessionStorage.setItem('smartLinkShownAdmin', 'true'); } }, { once: true }); </script>
</body>
</html>
