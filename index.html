<!DOCTYPE html>
<html lang="en">
<head>
    <!-- üëá Google Analytics Code (Added) üëá -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-64QZM220P0"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-64QZM220P0');
    </script>
    <!-- üëÜ End of Google Analytics Code üëÜ -->

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bangladesh Creator Media</title>
    <meta name="description" content="Science & Technology News Hub in Bangladesh.">
    <link rel="icon" href="https://i.ibb.co/sXXbLyk/Untitled-design.png" type="image/png">
    
    <style>
        /* CSS Variables */
        :root {
            --primary-color: #0056b3;
            --secondary-color: #f0f8ff;
            --text-color: #333;
            --bg-color: #ffffff;
            --border-color: #e0e0e0;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: var(--text-color); background: var(--bg-color); }

        /* --- HEADER STYLING --- */
        header { 
            background: #fafafa; 
            padding: 15px 30px;
            border-bottom: 1px solid #ddd; 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .header-left { display: flex; align-items: center; gap: 15px; }
        .site-logo { 
            width: 65px; height: 65px; border-radius: 50%; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.1); border: 2px solid #fff; object-fit: cover;
        }
        .header-text h1 { font-size: 1.5rem; color: var(--primary-color); margin: 0; line-height: 1.2; }
        .header-text p { font-size: 0.85rem; color: #555; margin: 0; font-weight: 500; }

        /* Search Bar */
        .header-center { flex-grow: 1; max-width: 500px; display: flex; justify-content: center; }
        .search-box { width: 100%; display: flex; border: 1px solid #ccc; border-radius: 25px; overflow: hidden; background: #fff; transition: box-shadow 0.3s; }
        .search-box:focus-within { box-shadow: 0 0 8px rgba(0, 86, 179, 0.2); border-color: var(--primary-color); }
        .search-input { width: 100%; padding: 10px 20px; border: none; outline: none; font-size: 1rem; }
        .search-btn { background: var(--primary-color); color: white; border: none; padding: 0 20px; cursor: pointer; font-weight: bold; }
        .search-btn:hover { background: #004494; }

        /* Social Icons */
        .header-right { display: flex; gap: 10px; align-items: center; }
        .social-icon { width: 35px; height: 35px; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: white; text-decoration: none; font-size: 1.2rem; transition: transform 0.2s; box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
        .social-icon:hover { transform: scale(1.1); }
        .social-icon svg { width: 18px; height: 18px; fill: white; }

        .bg-yt { background: #FF0000; }
        .bg-fb { background: #1877F2; }
        .bg-ig { background: radial-gradient(circle at 30% 107%, #fdf497 0%, #fdf497 5%, #fd5949 45%, #d6249f 60%, #285AEB 90%); }
        .bg-tk { background: #000000; }
        .bg-tg { background: #0088cc; }

        /* Navigation */
        nav { background: var(--primary-color); position: sticky; top: 0; z-index: 1000; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        nav ul { list-style: none; display: flex; justify-content: center; flex-wrap: wrap; margin: 0; padding: 0; }
        nav ul li a { display: block; padding: 12px 20px; color: white; text-decoration: none; font-weight: bold; transition: background 0.3s; }
        nav ul li a:hover { background: rgba(255,255,255,0.2); }

        /* Slider */
        .slider-container { width: 100%; height: 450px; position: relative; overflow: hidden; background: #000; }
        .slide { width: 100%; height: 100%; position: absolute; top: 0; left: 0; opacity: 0; transition: opacity 1s ease-in-out; background-size: cover; background-position: center; cursor: pointer; }
        .slide.active { opacity: 1; }
        .prev, .next { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(0,0,0,0.5); color: white; border: none; padding: 15px; cursor: pointer; font-size: 24px; z-index: 20; border-radius: 50%; margin: 0 10px; }
        .prev { left: 10px; } .next { right: 10px; }
        
        /* Main Content */
        .section-container { margin: 80px auto 40px; max-width: 1100px; padding: 0 20px; }
        .section-title { font-size: 1.8rem; color: var(--primary-color); margin-bottom: 20px; border-left: 5px solid var(--primary-color); padding-left: 15px; }
        
        .video-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
        .video-card { background: #fff; border: 1px solid #eee; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 8px rgba(0,0,0,0.05); transition: transform 0.3s; }
        .video-card:hover { transform: translateY(-5px); box-shadow: 0 8px 15px rgba(0,0,0,0.1); }
        .vid-thumb { width: 100%; height: 200px; object-fit: cover; cursor: pointer; display: block; }
        .vid-title { padding: 12px; font-size: 1rem; font-weight: 600; color: #222; text-decoration: none; display: block; line-height: 1.4; }
        .vid-title:hover { color: var(--primary-color); }

        .text-box { background: #f9f9f9; padding: 30px; border-radius: 8px; border-left: 5px solid #333; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .text-box h2 { margin-top: 0; color: var(--primary-color); font-size: 1.6rem; margin-bottom: 15px; }
        .text-box p { white-space: pre-line; font-size: 1.1rem; line-height: 1.8; color: #444; }

        footer { background: #222; color: white; text-align: center; padding: 25px; margin-top: 50px; }
        footer a { color: #ccc; text-decoration: none; margin: 0 10px; }
        footer a:hover { color: white; }

        /* Responsive */
        @media (max-width: 900px) {
            header { flex-direction: column; padding: 15px; gap: 15px; }
            .header-center { width: 100%; max-width: 100%; order: 2; }
            .header-right { order: 3; }
        }
        @media (max-width: 768px) {
            .slider-container { height: 250px; }
            .video-grid { grid-template-columns: repeat(2, 1fr); }
        }
        @media (max-width: 480px) {
            .video-grid { grid-template-columns: 1fr; }
            .slider-container { height: 200px; }
        }
    </style>
</head>
<body>

    <!-- Header Section -->
    <header>
        <div class="header-left">
            <img src="https://i.ibb.co/sXXbLyk/Untitled-design.png" alt="Logo" class="site-logo">
            <div class="header-text">
                <h1>Bangladesh Creator Media</h1>
                <p>Connecting Science, Technology & Innovation</p>
            </div>
        </div>

        <div class="header-center">
            <div class="search-box">
                <input type="text" id="searchInput" class="search-input" placeholder="Search videos...">
                <button class="search-btn" onclick="searchVideos()">üîç</button>
            </div>
        </div>

        <div class="header-right">
            <a href="https://youtube.com/@bangladesh_creator_media0?si=zFQC16qV77DOS9Bn" target="_blank" class="social-icon bg-yt" title="YouTube"><svg viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></a>
            <a href="https://www.facebook.com/share/17eK76CVLG/" target="_blank" class="social-icon bg-fb" title="Facebook"><svg viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></a>
            <a href="https://www.instagram.com/bangladeshcreatormedia?igsh=MWc2cHM1YnV3ejZreA==" target="_blank" class="social-icon bg-ig" title="Instagram"><svg viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg></a>
            <a href="https://www.tiktok.com/@bangladeshcreatormedia?_r=1&_t=ZS-932DorHaHd2" target="_blank" class="social-icon bg-tk" title="TikTok"><svg viewBox="0 0 24 24"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.49-3.35-3.98-5.6-1.11-5.09 2.06-10.27 7.15-11.22V9.5c-1.39.32-2.71 1.05-3.53 2.14-1.3 1.73-.8 4.25 1.05 5.37.95.57 2.08.77 3.15.54 1.62-.35 2.87-1.63 3.03-3.29.09-3.21.05-6.42.06-9.63.01-.15.01-.31.01-.46h-3.92V.02z"/></svg></a>
            <a href="https://t.me/bangladeshcreatormedia" target="_blank" class="social-icon bg-tg" title="Telegram"><svg viewBox="0 0 24 24"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg></a>
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="privacy.html">Privacy</a></li>
            <li><a href="terms.html">Terms</a></li>
        </ul>
    </nav>

    <div class="slider-container" id="slider-box">
        <div style="width:100%; height:100%; display:flex; align-items:center; justify-content:center; color:white;">
            <h2>Loading Banners...</h2>
        </div>
    </div>
    <div style="text-align:center; margin-top:-40px; position:relative; z-index:10; pointer-events:none;">
        <button class="prev" onclick="moveSlide(-1)" style="pointer-events:auto;">&#10094;</button>
        <button class="next" onclick="moveSlide(1)" style="pointer-events:auto;">&#10095;</button>
    </div>

    <div class="section-container">
        <h2 class="section-title">Featured Videos</h2>
        <div class="video-grid" id="video-box">
            <p>Loading videos...</p>
        </div>
    </div>

    <div class="section-container">
        <div class="text-box" id="text-box">
            <h2>Loading...</h2>
            <p>Please wait while content is loading...</p>
        </div>
    </div>

    <footer>
        <p>&copy; 2026 Bangladesh Creator Media. All Rights Reserved.</p>
        <p>
            <a href="privacy.html">Privacy Policy</a> | 
            <a href="terms.html">Terms & Conditions</a>
        </p>
    </footer>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyAEfAusfGr5VAhwbfpEjWBZijX0k3v3vAA",
            authDomain: "bangladesh-creator-media.firebaseapp.com",
            projectId: "bangladesh-creator-media",
            storageBucket: "bangladesh-creator-media.firebasestorage.app",
            messagingSenderId: "261777783760",
            appId: "1:261777783760:web:9dcacf82fdca071f4b97d5"
        };

        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        const db = firebase.firestore();

        // Load Content
        db.collection('siteContent').doc('homePage').onSnapshot((doc) => {
            if(doc.exists) {
                const data = doc.data();

                // Slider
                const sliderBox = document.getElementById('slider-box');
                let slidesHtml = '';
                let hasSlides = false;
                if(data.banners) {
                    data.banners.forEach((b, index) => {
                        if(b.img) {
                            hasSlides = true;
                            slidesHtml += `<div class="slide ${index === 0 ? 'active' : ''}" style="background-image: url('${b.img}');" onclick="window.open('${b.link}', '_blank')"></div>`;
                        }
                    });
                }
                if(hasSlides) {
                    sliderBox.innerHTML = slidesHtml;
                    if(window.sliderInterval) clearInterval(window.sliderInterval);
                    startAutoSlide();
                } else {
                    sliderBox.innerHTML = '<div style="display:flex;justify-content:center;align-items:center;height:100%;color:white;"><h3>No Banners Added Yet</h3></div>';
                }

                // Global Video Storage for Search
                window.allVideos = data.videos || [];
                renderVideos(window.allVideos);

                // Text
                if(data.textSection) {
                    const txtBox = document.getElementById('text-box');
                    txtBox.innerHTML = `<h2>${data.textSection.title || 'Welcome'}</h2><p>${data.textSection.desc || 'No content available.'}</p>`;
                }
            }
        });

        // Function to Display Videos
        function renderVideos(videos) {
            const vidBox = document.getElementById('video-box');
            let vidHtml = '';
            
            if (videos.length === 0) {
                vidBox.innerHTML = '<p style="grid-column: 1/-1; text-align:center;">No videos found.</p>';
                return;
            }

            videos.forEach(v => {
                if(v.img && v.title) {
                    vidHtml += `
                        <div class="video-card">
                            <a href="${v.link}" target="_blank">
                                <img src="${v.img}" class="vid-thumb" alt="Video Thumbnail">
                            </a>
                            <a href="${v.link}" target="_blank" class="vid-title">${v.title}</a>
                        </div>
                    `;
                }
            });
            vidBox.innerHTML = vidHtml;
        }

        // Updated Search Functionality
        function searchVideos() {
            const searchInput = document.getElementById('searchInput');
            const query = searchInput.value.toLowerCase().trim();

            if (!window.allVideos || window.allVideos.length === 0) {
                alert("Please add videos from Admin Panel first!");
                return;
            }

            // Filter Videos
            const filteredVideos = window.allVideos.filter(video => {
                return video.title && video.title.toLowerCase().includes(query);
            });

            renderVideos(filteredVideos);
        }
        
        // Reset Search on Empty Input
        document.getElementById('searchInput').addEventListener('input', function(event) {
            if(this.value === '') {
                renderVideos(window.allVideos);
            }
        });

        // Enter Key Search
        document.getElementById('searchInput').addEventListener('keyup', function(event) {
            if (event.key === 'Enter') { searchVideos(); }
        });

        // Slider Logic
        let slideIndex = 0;
        function moveSlide(n) {
            const slides = document.querySelectorAll('.slide');
            if(slides.length === 0) return;
            slides[slideIndex].classList.remove('active');
            slideIndex += n;
            if (slideIndex >= slides.length) { slideIndex = 0; }
            if (slideIndex < 0) { slideIndex = slides.length - 1; }
            slides[slideIndex].classList.add('active');
        }
        function startAutoSlide() {
            window.sliderInterval = setInterval(() => { moveSlide(1); }, 4000); 
        }
    </script>
</body>
</html>
