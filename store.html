<!DOCTYPE html>
<html lang="bn">
<head>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-64QZM220P0"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-64QZM220P0');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BCM Tech Store - ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø ‡¶∂‡¶™‡¶ø‡¶Ç‡¶Ø‡¶º‡ßá‡¶∞ ‡¶®‡¶ø‡¶∞‡ßç‡¶≠‡¶∞‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶∏‡ßç‡¶•‡¶æ‡¶®</title>
    
    <!-- ‚úÖ ‡¶≤‡ßã‡¶ó‡ßã -->
    <link rel="icon" href="https://i.ibb.co/sXXbLyk/Untitled-design.png" type="image/png">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Hind Siliguri', sans-serif; }
        :root { 
            --primary-color: #0056b3; 
            --secondary-color: #004494;
            --accent-orange: #ff9800;
            --text-color: #333; 
            --bg-color: #f8f9fa; 
            --shadow: 0 5px 15px rgba(0, 0, 0, 0.1); 
            --transition: all 0.3s ease; 
        }
        body { background-color: var(--bg-color); color: var(--text-color); line-height: 1.6; overflow-x: hidden; }
        
        /* -------------------------------------------
           HEADER STYLES
           ------------------------------------------- */
        header { 
            background: #fff; 
            padding: 12px 40px; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.05); 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            gap: 20px; 
            position: relative; 
            z-index: 1000; 
        }
        .header-left { display: flex; align-items: center; gap: 15px; flex: 1; }
        .site-logo { width: 55px; height: 55px; border-radius: 50%; border: 2px solid var(--primary-color); padding: 2px; }
        .header-text { display: flex; flex-direction: column; justify-content: center; }
        .header-text h1 { font-size: 1.5rem; color: var(--primary-color); margin: 0; line-height: 1.1; font-weight: 800; letter-spacing: -0.5px; }
        .header-text p { font-size: 0.7rem; color: #666; margin: 0; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; white-space: nowrap; }

        .header-center { flex: 2; display: flex; justify-content: center; }
        .search-box { width: 100%; max-width: 550px; display: flex; border: 1px solid #ddd; border-radius: 50px; overflow: hidden; background: #fdfdfd; box-shadow: inset 0 2px 5px rgba(0,0,0,0.02); }
        .search-input { width: 100%; padding: 10px 20px; border: none; outline: none; font-size: 0.95rem; color: #444; }
        .search-btn { background: var(--primary-color); color: white; border: none; padding: 0 30px; cursor: pointer; font-size: 1.1rem; transition: 0.3s; }
        .search-btn:hover { background: var(--secondary-color); }

        .header-right-container { flex: 1.5; display: flex; align-items: center; justify-content: flex-end; gap: 12px; }
        .header-service-btn { color: white; padding: 8px 18px; border-radius: 25px; text-decoration: none; font-weight: 700; font-size: 0.85rem; box-shadow: 0 4px 10px rgba(0,0,0,0.15); transition: transform 0.2s; white-space: nowrap; display: flex; align-items: center; gap: 6px; }
        .header-service-btn:hover { transform: translateY(-2px); }

        .btn-purple { background: linear-gradient(90deg, #8E2DE2, #4A00E0); }
        .btn-green  { background: linear-gradient(90deg, #11998e, #38ef7d); }
        .btn-orange { background: linear-gradient(90deg, #ff9800, #ff5722); }

        .social-group { display: flex; gap: 8px; margin-left: 10px; }
        .social-icon { width: 32px; height: 32px; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: white; text-decoration: none; transition: 0.3s; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .social-icon:hover { transform: translateY(-3px); }
        .social-icon svg { width: 16px; height: 16px; fill: white; }
        .bg-yt { background: #FF0000; } .bg-fb { background: #1877F2; } .bg-ig { background: radial-gradient(circle at 30% 107%, #fdf497 0%, #fdf497 5%, #fd5949 45%, #d6249f 60%, #285AEB 90%); } .bg-tk { background: #000000; } .bg-tg { background: #0088cc; }

        /* NAVBAR */
        nav { background: var(--primary-color); position: sticky; top: 0; z-index: 900; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.1); padding: 0; width: 100%; }
        nav ul { list-style: none; display: flex; justify-content: center; flex-wrap: wrap; margin: 0; padding: 0; }
        nav ul li { margin: 0; }
        nav ul li a { display: block; padding: 14px 25px; color: white; text-decoration: none; font-weight: 700; transition: background 0.3s; text-transform: uppercase; font-size: 0.9rem; border-bottom: 4px solid transparent; border-radius: 0; }
        nav ul li a:hover { background: rgba(255,255,255,0.1); }
        .nav-active { background: #003d82 !important; border-bottom: 4px solid var(--accent-orange) !important; }

        @media (max-width: 1100px) { 
            header { flex-direction: column; gap: 15px; padding: 15px; } 
            .header-left, .header-center, .header-right-container { width: 100%; justify-content: center; flex: auto; } 
            .header-right-container { flex-wrap: wrap; }
            .search-box { max-width: 100%; }
            nav { display: block; } 
        }

        /* Cart Icon */
        .cart-trigger { position: fixed; bottom: 20px; right: 20px; background: var(--accent-orange); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 1.5rem; box-shadow: 0 4px 15px rgba(0,0,0,0.3); cursor: pointer; z-index: 1002; transition: 0.3s; }
        .cart-trigger:hover { transform: scale(1.1); }
        .cart-count { position: absolute; top: -5px; right: -5px; background: red; color: white; font-size: 0.8rem; width: 22px; height: 22px; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-weight: bold; border: 2px solid white; }

        /* Store Styles */
        .container { width: 100%; max-width: 1250px; margin: 0 auto; padding: 0 20px; }
        .hero { padding: 80px 0; background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%); text-align: center; }
        .hero h1 { font-size: 2.5rem; margin-bottom: 15px; color: var(--text-color); }
        .btn { display: inline-block; padding: 10px 25px; background-color: var(--primary-color); color: white; border: none; border-radius: 5px; text-decoration: none; font-weight: 600; cursor: pointer; transition: var(--transition); }
        .btn:hover { background-color: var(--secondary-color); }

        /* PRODUCT GRID STYLES */
        .featured-products { padding: 60px 0; background-color: #f8f9fa; }
        .section-title { text-align: center; margin-bottom: 40px; }
        .products-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 30px; }
        
        .product-card { 
            background-color: white; border-radius: 12px; overflow: hidden; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.08); transition: all 0.3s ease; 
            display: flex; flex-direction: column;
            border: 1px solid #eee;
        }
        .product-card:hover { transform: translateY(-8px); box-shadow: 0 15px 30px rgba(0,0,0,0.15); }

        /* Image Gallery Logic */
        .product-gallery { position: relative; padding: 10px; background: #fff; }
        .main-img-box { 
            width: 100%; height: 220px; overflow: hidden; border-radius: 8px;
            display: flex; justify-content: center; align-items: center;
            cursor: crosshair; /* Indicates Zoom */
        }
        .main-img-box img { 
            max-width: 100%; max-height: 100%; transition: transform 0.4s ease; 
        }
        .main-img-box:hover img { transform: scale(1.6); /* Zoom Effect */ }

        .thumb-row { 
            display: flex; gap: 8px; margin-top: 10px; justify-content: center; 
        }
        .thumb-box { 
            width: 50px; height: 50px; border: 1px solid #ddd; border-radius: 4px; overflow: hidden; cursor: pointer; transition: 0.2s;
        }
        .thumb-box:hover { border-color: var(--accent-orange); transform: scale(1.05); }
        .thumb-box img { width: 100%; height: 100%; object-fit: cover; }

        .product-info { padding: 20px; flex-grow: 1; display: flex; flex-direction: column; }
        
        .serial-badge { 
            font-size: 0.75rem; background: #eee; padding: 2px 8px; border-radius: 4px; 
            color: #666; display: inline-block; margin-bottom: 5px; width: fit-content;
        }
        
        .product-title { 
            font-size: 1.1rem; font-weight: 700; color: #222; margin-bottom: 8px; 
            display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
        }
        
        .rating-stars { color: #ff9800; font-size: 0.9rem; margin-bottom: 10px; }
        
        .price-box { display: flex; align-items: baseline; gap: 10px; margin-bottom: 10px; }
        .current-price { font-size: 1.3rem; font-weight: 800; color: var(--primary-color); }
        .old-price { font-size: 0.95rem; color: #999; text-decoration: line-through; }
        
        .product-desc { 
            font-size: 0.9rem; color: #555; margin-bottom: 15px; flex-grow: 1;
            display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden;
        }
        
        /* Affiliate Button */
        .buy-btn { 
            display: block; width: 100%; text-align: center; 
            background: linear-gradient(45deg, #ff9800, #ff5722); color: white; 
            padding: 10px; border-radius: 6px; text-decoration: none; 
            font-weight: 700; transition: 0.3s; 
            box-shadow: 0 4px 10px rgba(255, 87, 34, 0.3); 
        }
        .buy-btn:hover { transform: scale(1.02); box-shadow: 0 6px 15px rgba(255, 87, 34, 0.4); }

        /* Cart Modal */
        .cart-modal { position: fixed; top: 0; right: -400px; width: 350px; height: 100%; background-color: white; box-shadow: -5px 0 15px rgba(0,0,0,0.1); z-index: 1100; transition: right 0.4s ease; padding: 20px; overflow-y: auto; }
        .cart-modal.active { right: 0; }
        .cart-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee; padding-bottom: 15px; margin-bottom: 20px; }
        .close-cart { background: none; border: none; font-size: 1.5rem; cursor: pointer; }
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1001; display: none; }
        .overlay.active { display: block; }

        /* Adsterra Banner */
        .ad-banner-container { text-align: center; margin: 40px auto; padding: 10px; max-width: 100%; overflow: hidden; }

        /* -------------------------------------------
           NEW DARK FOOTER STYLES (Added for consistency)
           ------------------------------------------- */
        footer { background-color: #1a202c; color: #ffffff; padding: 70px 0 20px; margin-top: 80px; font-family: 'Segoe UI', sans-serif; }
        .footer-content { max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: 1.5fr 1fr 1fr 1fr; gap: 40px; padding: 0 20px 40px; }
        .footer-logo-img { width: 70px; height: 70px; border-radius: 50%; margin-bottom: 15px; display: block; border: 2px solid #00b894; padding: 2px; }
        .footer-col h4 { color: #ffffff; font-size: 1.1rem; margin-bottom: 25px; font-weight: 700; text-transform: uppercase; position: relative; padding-bottom: 10px; }
        .footer-col h4::after { content: ''; position: absolute; left: 0; bottom: 0; width: 40px; height: 3px; background-color: #00b894; border-radius: 2px; }
        .footer-desc { font-size: 0.9rem; color: #bdc3c7; margin-bottom: 20px; line-height: 1.6; }
        .footer-col ul { list-style: none; padding: 0; margin: 0; }
        .footer-col ul li { margin-bottom: 12px; }
        .footer-col ul li a { color: #bdc3c7; text-decoration: none; transition: 0.3s; font-size: 0.95rem; display: block; }
        .footer-col ul li a:hover { color: #00b894; padding-left: 5px; }
        .contact-item { display: flex; align-items: center; gap: 10px; margin-bottom: 15px; color: #bdc3c7; font-size: 0.95rem; }
        .footer-bottom-bar { border-top: 1px solid #2d3748; padding-top: 30px; padding-bottom: 30px; margin-top: 20px; text-align: center; background: #1a202c; }
        .copyright-text { color: #bdc3c7; font-size: 0.9rem; }
        @media (max-width: 900px) { .footer-content { grid-template-columns: 1fr 1fr; } }
        @media (max-width: 500px) { .footer-content { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

    <!-- ADSTERRA POPUP (Hidden Script from Index) -->
    <div style="display:none;">
        <script>
            atOptions = { 'key' : '08d5faeff146431c8017d7cfc9ab82b6', 'format' : 'iframe', 'height' : 250, 'width' : 300, 'params' : {} };
        </script>
        <script src="https://www.highperformanceformat.com/08d5faeff146431c8017d7cfc9ab82b6/invoke.js"></script>
    </div>

    <!-- NEW HEADER SECTION (From Index) -->
    <header>
        <div class="header-left">
            <img src="https://i.ibb.co/sXXbLyk/Untitled-design.png" alt="Logo" class="site-logo">
            <div class="header-text">
                <h1>Bangladesh Creator Media</h1>
                <p>Connecting Science, Technology & Innovation</p>
            </div>
        </div>
        
        <div class="header-center">
            <div class="search-box">
                <input type="text" id="storeSearchInput" class="search-input" placeholder="Search products...">
                <button class="search-btn" onclick="searchProducts()">üîç</button>
            </div>
        </div>

        <div class="header-right-container">
            <a href="tools.html" class="header-service-btn btn-purple">üõ† Free Tools</a>
            <a href="store.html" class="header-service-btn btn-green">üõí Store</a>
            <a href="service.html" class="header-service-btn btn-orange">‚ú® Our Service</a>
            
            <div class="social-group">
                <!-- Social Icons from Index -->
                <a href="https://youtube.com/@bangladesh_creator_media0?si=zFQC16qV77DOS9Bn" target="_blank" class="social-icon bg-yt"><svg viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></a>
                <a href="https://www.facebook.com/share/17eK76CVLG/" target="_blank" class="social-icon bg-fb"><svg viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></a>
                <a href="https://t.me/bangladeshcreatormedia" target="_blank" class="social-icon bg-tg"><svg viewBox="0 0 24 24"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg></a>
            </div>
        </div>
    </header>

    <!-- UPDATED NAVBAR HTML -->
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="blog.html">Blog & News</a></li>
            <li><a href="service.html">Our Service</a></li>
            <li><a href="tools.html">Free Tools</a></li>
            <li><a href="store.html" class="nav-active">Store</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
    </nav>

    <!-- Floating Cart Button (Retained as per request, logic separate) -->
    <div class="cart-trigger" onclick="document.querySelector('.cart-modal').classList.add('active'); document.querySelector('.overlay').classList.add('active');">
        <i class="fas fa-shopping-cart"></i>
        <span class="cart-count">0</span>
    </div>

    <!-- Hero -->
    <section class="hero">
        <div class="container hero-content">
            <div class="hero-text">
                <h1>Best Tech Gadgets <br><span>In Bangladesh</span></h1>
                <p>Welcome to Bangladesh Creator Media Store. Authentic products, best prices.</p>
                <a href="#products" class="btn">Shop Now</a>
            </div>
        </div>
    </section>

    <!-- ADSTERRA BANNER -->
    <div class="ad-banner-container">
        <script>
            atOptions = { 'key' : '913c56baf27591442617260739df7bf0', 'format' : 'iframe', 'height' : 90, 'width' : 728, 'params' : {} };
        </script>
        <script type="text/javascript" src="https://www.highperformanceformat.com/913c56baf27591442617260739df7bf0/invoke.js"></script>
    </div>

    <!-- Products Section -->
    <section class="featured-products" id="products">
        <div class="container">
            <div class="section-title"><h2>Featured Products</h2></div>
            
            <!-- DYNAMIC PRODUCT GRID -->
            <div class="products-grid" id="dynamic-products-grid">
                <p style="grid-column: 1/-1; text-align: center;">Loading Products...</p>
            </div>

        </div>
    </section>

    <!-- Footer (Added for Consistency) -->
    <footer>
        <div class="footer-content">
            <div class="footer-col">
                <img src="https://i.ibb.co/sXXbLyk/Untitled-design.png" alt="Logo" class="footer-logo-img">
                <h4>Bangladesh Creator Media</h4>
                <p class="footer-desc">Your trusted tech partner in Bangladesh.</p>
            </div>
            <div class="footer-col">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="store.html">Store</a></li>
                    <li><a href="tools.html">Tools</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>Support</h4>
                <ul>
                    <li><a href="contact.html">Contact Us</a></li>
                    <li><a href="terms.html">Terms & Conditions</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>Contact Us</h4>
                <div class="contact-item"><span>üìç</span><span>Dhaka, Bangladesh</span></div>
                <div class="contact-item"><span>‚úâÔ∏è</span><a href="mailto:bcm.contact24@gmail.com" style="color:#bdc3c7;">bcm.contact24@gmail.com</a></div>
            </div>
        </div>
        <div class="footer-bottom-bar">
            <p class="copyright-text">&copy; 2026 Bangladesh Creator Media. All Rights Reserved.</p>
        </div>
    </footer>

    <!-- Cart Modal (Structure kept) -->
    <div class="overlay"></div>
    <div class="cart-modal">
        <div class="cart-header"><h3>Shopping Cart</h3><button class="close-cart"><i class="fas fa-times"></i></button></div>
        <div class="cart-items"><p style="text-align:center; padding:20px;">Cart functionality coming soon for affiliate products!</p></div> 
        <button class="btn" style="width:100%; margin-top:20px;">Checkout</button>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

    <!-- Tawk.to Messaging Widget -->
    <script type="text/javascript">
        var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
        (function () {
            var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
            s1.async = true;
            s1.src = 'https://embed.tawk.to/696b5e80e9768b197f02db61/1jf5mia2f';
            s1.charset = 'UTF-8';
            s1.setAttribute('crossorigin', '*');
            s0.parentNode.insertBefore(s1, s0);
        })();
    </script>

    <script>
        // FIREBASE CONFIGURATION
        const firebaseConfig = {
            apiKey: "AIzaSyAEfAusfGr5VAhwbfpEjWBZijX0k3v3vAA",
            authDomain: "bangladesh-creator-media.firebaseapp.com",
            projectId: "bangladesh-creator-media",
            storageBucket: "bangladesh-creator-media.firebasestorage.app",
            messagingSenderId: "261777783760",
            appId: "1:261777783760:web:9dcacf82fdca071f4b97d5"
        };

        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        const db = firebase.firestore();

        // ---------------------------------------------
        // STORE PAGE DYNAMIC LOGIC
        // ---------------------------------------------
        let allProducts = [];

        db.collection('siteContent').doc('storePage').onSnapshot((doc) => {
            const grid = document.getElementById('dynamic-products-grid');
            if (doc.exists && doc.data().products) {
                allProducts = doc.data().products;
                renderProducts(allProducts);
            } else {
                grid.innerHTML = '<p style="grid-column: 1/-1; text-align: center; font-size:1.2rem;">No products available right now.</p>';
            }
        });

        function renderProducts(products) {
            const grid = document.getElementById('dynamic-products-grid');
            let html = '';
            
            if(products.length === 0) {
                grid.innerHTML = '<p style="grid-column: 1/-1; text-align: center;">No products matching your search.</p>';
                return;
            }

            products.forEach((p, index) => {
                // Determine Main Image (Default to first)
                const mainImg = p.images && p.images[0] ? p.images[0] : 'https://via.placeholder.com/300?text=No+Image';
                
                // Build Thumbnails HTML
                let thumbHtml = '';
                if(p.images && p.images.length > 0) {
                    p.images.forEach(img => {
                        if(img) {
                            thumbHtml += `<div class="thumb-box" onmouseover="changeMainImage('${index}', '${img}')"><img src="${img}" alt="Thumb"></div>`;
                        }
                    });
                }

                // Build Rating Stars
                let stars = '';
                for(let i=0; i<5; i++) {
                    if(i < p.rating) stars += '<i class="fas fa-star"></i>';
                    else stars += '<i class="far fa-star"></i>';
                }

                html += `
                    <div class="product-card">
                        <div class="product-gallery">
                            <div class="main-img-box">
                                <img id="p-img-${index}" src="${mainImg}" alt="${p.title}">
                            </div>
                            <div class="thumb-row">
                                ${thumbHtml}
                            </div>
                        </div>
                        
                        <div class="product-info">
                            <span class="serial-badge">SN: ${p.serial}</span>
                            <h3 class="product-title">${p.title}</h3>
                            <div class="rating-stars">${stars}</div>
                            
                            <div class="price-box">
                                <span class="current-price">‡ß≥${p.price}</span>
                                <span class="old-price">${p.oldPrice ? '‡ß≥'+p.oldPrice : ''}</span>
                            </div>
                            
                            <p class="product-desc">${p.desc}</p>
                            
                            <a href="${p.link}" target="_blank" class="buy-btn">BUY NOW <i class="fas fa-external-link-alt"></i></a>
                        </div>
                    </div>
                `;
            });
            grid.innerHTML = html;
        }

        // Change Image on Thumbnail Hover
        window.changeMainImage = function(index, src) {
            document.getElementById(`p-img-${index}`).src = src;
        }

        // Search Function
        window.searchProducts = function() {
            const query = document.getElementById('storeSearchInput').value.toLowerCase();
            const filtered = allProducts.filter(p => p.title.toLowerCase().includes(query) || p.serial.toString().includes(query));
            renderProducts(filtered);
        }
        
        // Enter Key Search
        document.getElementById('storeSearchInput').addEventListener('keyup', function(e) {
            if (e.key === 'Enter') searchProducts();
            if (this.value === '') renderProducts(allProducts);
        });

        // Cart Logic (Minimal for now as per affiliate request)
        const cartModal = document.querySelector('.cart-modal');
        const overlay = document.querySelector('.overlay');
        const closeCart = document.querySelector('.close-cart');
        
        closeCart.addEventListener('click', () => { cartModal.classList.remove('active'); overlay.classList.remove('active'); });
        overlay.addEventListener('click', () => { cartModal.classList.remove('active'); overlay.classList.remove('active'); });

    </script>
</body>
</html>
